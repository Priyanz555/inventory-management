(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{6213:function(e,t,s){Promise.resolve().then(s.bind(s,8418))},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1671:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9388:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},2735:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2208:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},5621:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},3276:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8418:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var r=s(7437),a=s(2265),n=s(9820),l=s(2381),c=s(2660),i=s(2735),d=s(9397),o=s(1671),u=s(9205);let m=(0,u.Z)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),x=(0,u.Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var p=s(3276),h=s(9388),f=s(1723),g=s(3247),y=s(1047),j=s(2208),N=s(5621),b=s(8736),v=s(7648);function w(){let[e,t]=(0,a.useState)("all"),[s,u]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[S,R]=(0,a.useState)(""),[O,C]=(0,a.useState)("All Status"),[I,_]=(0,a.useState)([]),[Z,z]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[L,D]=(0,a.useState)(null),[M,P]=(0,a.useState)(!1),[T,V]=(0,a.useState)(""),[F,U]=(0,a.useState)("");(0,a.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("tab");e&&["all","pending","accepted","accepted_processed","accepted_unprocessed","rejected","offline"].includes(e)&&t(e)}},[]);let Q=[{id:"RO-2024-001",orderDate:"2024-01-15",fosId:"FOS001",fosName:"John Smith",retailerId:"RET001",retailerName:"ABC Store",status:"accepted",processingStatus:"confirmed_not_dispatched",orderValue:"₹12,500",orderQuantity:25,selected:!1,processingLogs:[{id:"1",orderId:"RO-2024-001",action:"Order Accepted",status:"accepted",timestamp:"2024-01-15 10:30:00",userId:"RETAILER001"},{id:"2",orderId:"RO-2024-001",action:"Order Confirmed",status:"confirmed",timestamp:"2024-01-15 14:20:00",userId:"RETAILER001"}]},{id:"RO-2024-002",orderDate:"2024-01-16",fosId:"FOS002",fosName:"Sarah Johnson",retailerId:"RET002",retailerName:"XYZ Mart",status:"pending",processingStatus:"pending",orderValue:"₹8,900",orderQuantity:18,selected:!1,processingLogs:[]},{id:"RO-2024-003",orderDate:"2024-01-17",fosId:"FOS003",fosName:"Mike Wilson",retailerId:"RET003",retailerName:"Premium Shop",status:"rejected",processingStatus:"rejected",unprocessedReason:"Stock Out",orderValue:"₹15,200",orderQuantity:32,selected:!1,processingLogs:[{id:"3",orderId:"RO-2024-003",action:"Order Rejected",status:"rejected",reason:"Stock Out",timestamp:"2024-01-17 09:15:00",userId:"RETAILER003"}]},{id:"RO-2024-004",orderDate:"2024-01-18",fosId:"FOS001",fosName:"John Smith",retailerId:"RET004",retailerName:"City Store",status:"accepted",processingStatus:"confirmed_not_dispatched",orderValue:"₹9,800",orderQuantity:20,selected:!1,processingLogs:[{id:"4",orderId:"RO-2024-004",action:"Order Accepted",status:"accepted",timestamp:"2024-01-18 11:45:00",userId:"RETAILER004"}]},{id:"RO-2024-007",orderDate:"2024-01-21",fosId:"FOS003",fosName:"Mike Wilson",retailerId:"RET007",retailerName:"Express Mart",status:"accepted",processingStatus:"auto_processed",orderValue:"₹14,200",orderQuantity:35,selected:!1,processingLogs:[{id:"5",orderId:"RO-2024-007",action:"Order Accepted",status:"accepted",timestamp:"2024-01-21 09:30:00",userId:"RETAILER007"},{id:"6",orderId:"RO-2024-007",action:"Order Confirmed",status:"confirmed",timestamp:"2024-01-21 10:15:00",userId:"RETAILER007"},{id:"7",orderId:"RO-2024-007",action:"Auto Processed",status:"auto_processed",timestamp:"2024-01-21 14:20:00",userId:"SYSTEM"}]},{id:"RO-2024-008",orderDate:"2024-01-22",fosId:"FOS002",fosName:"Sarah Johnson",retailerId:"RET008",retailerName:"Quick Shop",status:"accepted",processingStatus:"auto_processed",orderValue:"₹7,600",orderQuantity:12,selected:!1,processingLogs:[{id:"8",orderId:"RO-2024-008",action:"Order Accepted",status:"accepted",timestamp:"2024-01-22 08:45:00",userId:"RETAILER008"},{id:"9",orderId:"RO-2024-008",action:"Order Confirmed",status:"confirmed",timestamp:"2024-01-22 09:30:00",userId:"RETAILER008"},{id:"10",orderId:"RO-2024-008",action:"Auto Processed",status:"auto_processed",timestamp:"2024-01-22 11:15:00",userId:"SYSTEM"}]},{id:"RO-2024-005",orderDate:"2024-01-19",fosId:"FOS004",fosName:"Lisa Brown",retailerId:"RET005",retailerName:"Corner Shop",status:"offline",processingStatus:"offline",orderValue:"₹6,500",orderQuantity:15,selected:!1,processingLogs:[]},{id:"RO-2024-006",orderDate:"2024-01-20",fosId:"FOS002",fosName:"Sarah Johnson",retailerId:"RET006",retailerName:"Super Market",status:"pending",processingStatus:"pending",orderValue:"₹11,300",orderQuantity:28,selected:!1,processingLogs:[]}],H=Q.filter(t=>{let r=!1;r="all"===e||("accepted"===e?"accepted"===t.status:"accepted_processed"===e?"accepted"===t.status&&"auto_processed"===t.processingStatus:"accepted_unprocessed"===e?"accepted"===t.status&&"confirmed_not_dispatched"===t.processingStatus:t.status===e);let a=""===s||t.id.toLowerCase().includes(s.toLowerCase())||t.retailerName.toLowerCase().includes(s.toLowerCase())||t.fosName.toLowerCase().includes(s.toLowerCase())||t.fosId.toLowerCase().includes(s.toLowerCase()),n=""===w||t.orderDate>=w,l=""===S||t.orderDate<=S,c="All Status"===O||t.status===O.toLowerCase();return r&&a&&n&&l&&c}),W=[{key:"all",label:"All Orders",count:Q.length},{key:"pending",label:"Pending Orders",count:Q.filter(e=>"pending"===e.status).length},{key:"accepted",label:"Accepted Orders",count:Q.filter(e=>"accepted"===e.status).length},{key:"accepted_processed",label:"Processed Orders",count:Q.filter(e=>"accepted"===e.status&&"auto_processed"===e.processingStatus).length},{key:"accepted_unprocessed",label:"Unprocessed Orders",count:Q.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).length},{key:"rejected",label:"Rejected Orders",count:Q.filter(e=>"rejected"===e.status).length},{key:"offline",label:"Offline Orders",count:Q.filter(e=>"offline"===e.status).length}],Y=e=>{let t="px-2 py-1 rounded-full text-xs font-medium";switch(e){case"accepted":return"".concat(t," bg-green-100 text-green-800");case"pending":return"".concat(t," bg-yellow-100 text-yellow-800");case"rejected":return"".concat(t," bg-red-100 text-red-800");case"offline":return"".concat(t," bg-blue-100 text-blue-800");default:return"".concat(t," bg-gray-100 text-gray-800")}},B=e=>{let t="px-2 py-1 rounded-full text-xs font-medium";switch(e){case"confirmed_not_dispatched":return"".concat(t," bg-orange-100 text-orange-800");case"auto_processed":return"".concat(t," bg-green-100 text-green-800");case"stock_out":return"".concat(t," bg-red-100 text-red-800");case"partial_dispatch":return"".concat(t," bg-yellow-100 text-yellow-800");default:return"".concat(t," bg-gray-100 text-gray-800")}},q=e=>{_(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},J=()=>{_(H.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).map(e=>e.id))},$=()=>{_([])},X=(e,t)=>{console.log("Closing order:",e,"with reason:",t),P(!1),V("")},G=e=>{let t=Q.find(t=>t.id===e);if(!t)return;let s=t.processingLogs.map(e=>({OrderID:e.orderId,Action:e.action,Status:e.status,Reason:e.reason||"",Timestamp:e.timestamp,UserID:e.userId})),r=new Blob([[Object.keys(s[0]).join(","),...s.map(e=>Object.values(e).join(","))].join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download="processing_log_".concat(e,".csv"),n.click(),window.URL.revokeObjectURL(a)},K=H.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).length,ee=Q.filter(e=>"accepted"===e.status&&"auto_processed"===e.processingStatus).length,et=Q.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).length;return(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Retailer Orders"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage retail and field operations orders"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)(v.default,{href:"/orders",children:(0,r.jsxs)(l.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),"Back to Orders"]})})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),"Bulk Download"]}),(0,r.jsx)(v.default,{href:"/orders/offline/new",children:(0,r.jsxs)(l.z,{variant:"jiomart",className:"flex items-center gap-2",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4"}),"Create Offline Orders"]})})]})]})]}),K>0&&(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 text-green-600"}),"Unprocessed Orders Actions"]})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[K," unprocessed orders ready for action"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:J,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,r.jsx)(m,{className:"h-4 w-4"}),"Select All"]}),(0,r.jsxs)(l.z,{onClick:$,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,r.jsx)(x,{className:"h-4 w-4"}),"Clear Selection"]}),(0,r.jsxs)(l.z,{onClick:()=>z(!0),disabled:0===I.length,className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Auto Process (",I.length,")"]}),(0,r.jsxs)(l.z,{onClick:()=>P(!0),disabled:0===I.length,variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Close Orders (",I.length,")"]})]})]})})]}),(ee>0||et>0)&&(0,r.jsx)(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"}),(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:"Accepted Orders Summary"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,r.jsxs)("button",{onClick:()=>t("accepted_processed"),className:"bg-green-50 p-3 rounded-lg hover:bg-green-100 transition-colors cursor-pointer border border-green-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 text-green-600"}),(0,r.jsx)("span",{className:"font-medium text-green-800 text-sm",children:"Processed"})]}),(0,r.jsx)("span",{className:"text-xl font-bold text-green-600",children:ee})]}),(0,r.jsx)("p",{className:"text-xs text-green-600 text-left",children:"Successfully processed and dispatched"})]}),(0,r.jsxs)("button",{onClick:()=>t("accepted_unprocessed"),className:"bg-orange-50 p-3 rounded-lg hover:bg-orange-100 transition-colors cursor-pointer border border-orange-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 text-orange-600"}),(0,r.jsx)("span",{className:"font-medium text-orange-800 text-sm",children:"Unprocessed"})]}),(0,r.jsx)("span",{className:"text-xl font-bold text-orange-600",children:et})]}),(0,r.jsx)("p",{className:"text-xs text-orange-600 text-left",children:"Confirmed but not yet dispatched"})]})]})]})}),(0,r.jsx)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg overflow-x-auto",children:W.map(s=>(0,r.jsxs)("button",{onClick:()=>t(s.key),className:"py-2 px-4 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat(e===s.key?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[s.label," (",s.count,")"]},s.key))}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[(0,r.jsx)("div",{className:"flex-1 max-w-md",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by Order ID, Retailer Name, FOS Name, FOS ID...",value:s,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"date",value:w,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-gray-500",children:"to"}),(0,r.jsx)("input",{type:"date",value:S,onChange:e=>R(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("select",{value:O,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{children:"All Status"}),(0,r.jsx)("option",{children:"Accepted"}),(0,r.jsx)("option",{children:"Pending"}),(0,r.jsx)("option",{children:"Rejected"}),(0,r.jsx)("option",{children:"Offline"})]})]})]}),(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-0",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:K>0&&(0,r.jsx)("input",{type:"checkbox",checked:I.length===K,onChange:e=>e.target.checked?J():$(),className:"rounded border-gray-300"})}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Sr. #"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order ID"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order Date"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"FOS ID and Name"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Retailer ID"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Retailer Name"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Processing Status"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order Value"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order Quantity"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:H.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"py-3 px-4",children:"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus&&(0,r.jsx)("input",{type:"checkbox",checked:I.includes(e.id),onChange:()=>q(e.id),className:"rounded border-gray-300"})}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:t+1}),(0,r.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.id}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.orderDate}),(0,r.jsxs)("td",{className:"py-3 px-4 text-gray-900",children:[e.fosId," ",e.fosName]}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.retailerId}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.retailerName}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("span",{className:Y(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("span",{className:B(e.processingStatus),children:e.processingStatus.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})}),(0,r.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.orderValue}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.orderQuantity}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:(0,r.jsx)(j.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>{D(e),E(!0)},className:"text-gray-600 hover:text-gray-900",children:(0,r.jsx)(N.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{className:"text-gray-600 hover:text-gray-900",children:(0,r.jsx)(b.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing 1 to ",H.length," of ",H.length," results"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(l.z,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),(0,r.jsx)(l.z,{variant:"outline",size:"sm",className:"bg-blue-600 text-white",children:"1"}),(0,r.jsx)(l.z,{variant:"outline",size:"sm",children:"2"}),(0,r.jsx)(l.z,{variant:"outline",size:"sm",children:"3"}),(0,r.jsx)(l.z,{variant:"outline",size:"sm",children:"Next"})]})]}),Z&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Auto Process Orders"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to auto-process ",I.length," selected orders?"]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(l.z,{onClick:()=>z(!1),variant:"outline",children:"Cancel"}),(0,r.jsx)(l.z,{onClick:()=>{console.log("Auto processing orders:",I),_([]),z(!1)},className:"bg-green-600 hover:bg-green-700",children:"Auto Process"})]})]})}),M&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Close Orders"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["You are about to close ",I.length," selected orders. Please select a reason:"]}),(0,r.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"radio",name:"closeReason",value:"Stock Out",checked:"Stock Out"===T,onChange:e=>V(e.target.value),className:"text-red-600"}),(0,r.jsx)("span",{className:"text-red-600 font-medium",children:"Stock Out"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"radio",name:"closeReason",value:"Partial Dispatch",checked:"Partial Dispatch"===T,onChange:e=>V(e.target.value),className:"text-yellow-600"}),(0,r.jsx)("span",{className:"text-yellow-600 font-medium",children:"Partial Dispatch"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"radio",name:"closeReason",value:"Cancelled - Retailer Refused",checked:"Cancelled - Retailer Refused"===T,onChange:e=>V(e.target.value),className:"text-gray-600"}),(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Cancelled - Retailer Refused"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(l.z,{onClick:()=>{P(!1),V("")},variant:"outline",children:"Cancel"}),(0,r.jsx)(l.z,{onClick:()=>{console.log("Closing orders:",I,"with reason:",T),_([]),P(!1),V("")},disabled:!T,className:"bg-red-600 hover:bg-red-700",children:"Close Orders"})]})]})}),A&&L&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold",children:["Processing Log - ",L.id]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{onClick:()=>G(L.id),variant:"outline",size:"sm",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Download Report"]}),(0,r.jsx)(l.z,{onClick:()=>E(!1),variant:"outline",size:"sm",children:"Close"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Order ID:"})," ",L.id]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Retailer:"})," ",L.retailerName]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Current Status:"}),(0,r.jsx)("span",{className:Y(L.status),children:L.status.charAt(0).toUpperCase()+L.status.slice(1)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Processing Status:"}),(0,r.jsx)("span",{className:B(L.processingStatus),children:L.processingStatus.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})]})]}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Processing History"}),(0,r.jsx)("div",{className:"space-y-2",children:L.processingLogs.length>0?L.processingLogs.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.action}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.reason&&"Reason: ".concat(e.reason)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.timestamp}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["by ",e.userId]})]})]},e.id)):(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No processing logs available"})})]}),"accepted"===L.status&&"confirmed_not_dispatched"===L.processingStatus&&(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Close Order"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"radio",name:"closeReason",value:"Stock Out",checked:"Stock Out"===F,onChange:e=>U(e.target.value),className:"text-red-600"}),(0,r.jsx)("span",{className:"text-red-600 font-medium",children:"Stock Out"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"radio",name:"closeReason",value:"Partial Dispatch",checked:"Partial Dispatch"===F,onChange:e=>U(e.target.value),className:"text-yellow-600"}),(0,r.jsx)("span",{className:"text-yellow-600 font-medium",children:"Partial Dispatch"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"radio",name:"closeReason",value:"Cancelled - Retailer Refused",checked:"Cancelled - Retailer Refused"===F,onChange:e=>U(e.target.value),className:"text-gray-600"}),(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Cancelled - Retailer Refused"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,r.jsx)(l.z,{onClick:()=>{E(!1),U("")},variant:"outline",size:"sm",children:"Cancel"}),(0,r.jsx)(l.z,{onClick:()=>{F&&(X(L.id,F),U(""))},disabled:!F,size:"sm",className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400",children:"Submit Status"})]})]})]})]})]})})]})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(5293),l=s(535),c=s(3448);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",jiomart:"bg-[hsl(var(--button-blue))] text-white hover:bg-[hsl(var(--button-blue)/0.9)] font-semibold shadow-sm",jiomartHeader:"text-white hover:bg-white/10"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,c.cn)(i({variant:a,size:l,className:s})),ref:t,...o})});d.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return i}});var r=s(7437),a=s(2265),n=s(3448);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});c.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}},5293:function(e,t,s){"use strict";s.d(t,{g7:function(){return l}});var r=s(2265);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var n=s(7437),l=function(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:s,...n}=e;if(r.isValidElement(s)){let e,l;let c=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.ref:(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.props.ref:s.props.ref||s.ref,i=function(e,t){let s={...t};for(let r in t){let a=e[r],n=t[r];/^on[A-Z]/.test(r)?a&&n?s[r]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...n}:"className"===r&&(s[r]=[a,n].filter(Boolean).join(" "))}return{...e,...s}}(n,s.props);return s.type!==r.Fragment&&(i.ref=t?function(...e){return t=>{let s=!1,r=e.map(e=>{let r=a(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():a(e[t],null)}}}}(t,c):c),r.cloneElement(s,i)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=r.forwardRef((e,s)=>{let{children:a,...l}=e,c=r.Children.toArray(a),d=c.find(i);if(d){let e=d.props.children,a=c.map(t=>t!==d?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...l,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...l,ref:s,children:a})});return s.displayName=`${e}.Slot`,s}("Slot"),c=Symbol("radix.slottable");function i(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}},535:function(e,t,s){"use strict";s.d(t,{j:function(){return l}});var r=s(1994);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=r.W,l=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return n(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:l,defaultVariants:c}=t,i=Object.keys(l).map(e=>{let t=null==s?void 0:s[e],r=null==c?void 0:c[e];if(null===t)return null;let n=a(t)||a(r);return l[e][n]}),d=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return n(e,i,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...c,...d}[t]):({...c,...d})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},function(e){e.O(0,[137,216,971,117,744],function(){return e(e.s=6213)}),_N_E=e.O()}]);