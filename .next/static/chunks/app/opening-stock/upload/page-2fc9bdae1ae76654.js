(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{290:function(e,t,r){Promise.resolve().then(r.bind(r,5118))},5118:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(7437),a=r(2265),l=r(9820),n=r(2381),o=r(5621),i=r(7689),d=r(9322),c=r(2735),u=r(8736),m=r(2489),x=r(1671),f=r(9397),h=r(3247),b=r(5868),g=r(8930);function p(){let[e,t]=(0,a.useState)("bulk"),[r,p]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)([]),[C,S]=(0,a.useState)(null),[A,Z]=(0,a.useState)(""),[q,Y]=(0,a.useState)({sku:"",description:"",mfgMonth:"",mfgYear:"",qtyCS:0,qtyEA:0}),z=e=>{("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||e.name.endsWith(".xlsx"))&&(p(e),N({validRows:[],errorRows:[]}))},E=e=>{k(w.filter(t=>t.id!==e))},M=e=>{S(e)},D=(e,t)=>{k(w.map(r=>r.id===e?{...r,...t}:r)),S(null)},B=(e,t)=>{Y(r=>({...r,[e]:t}))};return(0,s.jsxs)("div",{className:"space-y-6 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Add Inventory"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Create or update your inventory status"})]}),(0,s.jsxs)(n.z,{variant:"outline",onClick:()=>window.location.href="/opening-stock/audit",className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"View Audit Trail"]})]}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,s.jsx)("button",{onClick:()=>t("bulk"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("bulk"===e?"border-[hsl(var(--button-blue))] text-[hsl(var(--button-blue))]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Bulk Upload"}),(0,s.jsx)("button",{onClick:()=>t("individual"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat("individual"===e?"border-[hsl(var(--button-blue))] text-[hsl(var(--button-blue))]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Individual Product Entry"})]})}),"bulk"===e&&(0,s.jsxs)(l.Zb,{className:"shadow-sm border-gray-200",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5 text-[hsl(var(--button-blue))]"}),"Bulk Upload"]}),(0,s.jsx)(l.SZ,{children:"Upload an excel file with your stock data"})]}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(d.Z,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),(0,s.jsx)("div",{className:"text-sm text-blue-800",children:(0,s.jsx)("p",{className:"font-medium",children:"Step 1: Download template → Step 2: Fill quantities → Step 3: Upload file."})})]})}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)(n.z,{onClick:()=>{console.log("Downloading template...")},variant:"jiomart",className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Download Template"]})}),(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(v?"border-[hsl(var(--button-blue))] bg-blue-50":"border-gray-300"),onDragOver:e=>{e.preventDefault(),y(!0)},onDragLeave:e=>{e.preventDefault(),y(!1)},onDrop:e=>{e.preventDefault(),y(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&z(t[0])},children:[(0,s.jsx)(i.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,s.jsx)("span",{className:"text-[hsl(var(--button-blue))] hover:text-[hsl(var(--button-blue)/0.8)] font-medium",children:"Choose a file"}),(0,s.jsx)("span",{className:"text-gray-500",children:" or drag and drop"})]}),(0,s.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".xlsx",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&z(r)}})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"XLSX files only, up to 5MB"})]}),r&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:r.name})]}),(0,s.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>p(null),children:(0,s.jsx)(m.Z,{className:"h-4 w-4"})})]}),j&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)(n.z,{onClick:()=>{window.location.href="/opening-stock/review"},variant:"jiomart",size:"lg",className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),"Continue to Review"]})})]})]}),"individual"===e&&(0,s.jsxs)(l.Zb,{className:"shadow-sm border-gray-200",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"h-5 w-5 text-[hsl(var(--button-blue))]"}),"Individual Product Entry"]}),(0,s.jsx)(l.SZ,{children:"Add product one by one to your stock"})]}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Article ID"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[hsl(var(--button-blue))] focus:border-[hsl(var(--button-blue))]",placeholder:"Search SKU...",value:q.sku,onChange:e=>B("sku",e.target.value)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[hsl(var(--button-blue))] focus:border-[hsl(var(--button-blue))]",placeholder:"Enter description",value:q.description,onChange:e=>B("description",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MFG Month-Year"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[hsl(var(--button-blue))] focus:border-[hsl(var(--button-blue))]",value:q.mfgMonth,onChange:e=>B("mfgMonth",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Month"}),Array.from({length:12},(e,t)=>(0,s.jsx)("option",{value:t+1,children:t+1},t+1))]}),(0,s.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[hsl(var(--button-blue))] focus:border-[hsl(var(--button-blue))]",value:q.mfgYear,onChange:e=>B("mfgYear",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Year"}),Array.from({length:5},(e,t)=>{let r=new Date().getFullYear()-2+t;return(0,s.jsx)("option",{value:r,children:r},r)})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qty CS"}),(0,s.jsx)("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[hsl(var(--button-blue))] focus:border-[hsl(var(--button-blue))]",placeholder:"0",value:q.qtyCS,onChange:e=>B("qtyCS",parseInt(e.target.value)||0)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qty EA"}),(0,s.jsx)("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[hsl(var(--button-blue))] focus:border-[hsl(var(--button-blue))]",placeholder:"0",value:q.qtyEA,onChange:e=>B("qtyEA",parseInt(e.target.value)||0)})]})]}),(0,s.jsxs)(n.z,{onClick:()=>{if(!q.sku.trim()){alert("Please enter a SKU");return}k([...w,{id:Date.now(),sku:q.sku,description:q.description,mfgMonth:q.mfgMonth,mfgYear:q.mfgYear,qtyCS:q.qtyCS,qtyEA:q.qtyEA}]),Y({sku:"",description:"",mfgMonth:"",mfgYear:"",qtyCS:0,qtyEA:0})},variant:"jiomart",className:"flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),"Add to List"]}),w.length>0&&(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border border-gray-200 rounded-lg",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50 border-b",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"SKU"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Description"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"MFG MM-YYYY"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Qty CS"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Qty EA"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:w.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"py-3 px-4",children:C===e.id?(0,s.jsx)("input",{type:"text",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-[hsl(var(--button-blue))]",defaultValue:e.sku,onBlur:t=>D(e.id,{sku:t.target.value})}):e.sku}),(0,s.jsx)("td",{className:"py-3 px-4",children:C===e.id?(0,s.jsx)("input",{type:"text",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-[hsl(var(--button-blue))]",defaultValue:e.description,onBlur:t=>D(e.id,{description:t.target.value})}):e.description}),(0,s.jsx)("td",{className:"py-3 px-4",children:C===e.id?(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,s.jsx)("input",{type:"number",min:"1",max:"12",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-[hsl(var(--button-blue))]",defaultValue:e.mfgMonth,onBlur:t=>D(e.id,{mfgMonth:t.target.value})}),(0,s.jsx)("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-[hsl(var(--button-blue))]",defaultValue:e.mfgYear,onBlur:t=>D(e.id,{mfgYear:t.target.value})})]}):"".concat(e.mfgMonth,"/").concat(e.mfgYear)}),(0,s.jsx)("td",{className:"py-3 px-4",children:C===e.id?(0,s.jsx)("input",{type:"number",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-[hsl(var(--button-blue))]",defaultValue:e.qtyCS,onBlur:t=>D(e.id,{qtyCS:parseInt(t.target.value)||0})}):e.qtyCS}),(0,s.jsx)("td",{className:"py-3 px-4",children:C===e.id?(0,s.jsx)("input",{type:"number",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-[hsl(var(--button-blue))]",defaultValue:e.qtyEA,onBlur:t=>D(e.id,{qtyEA:parseInt(t.target.value)||0})}):e.qtyEA}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[C===e.id?(0,s.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>S(null),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})}):(0,s.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>M(e.id),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:(0,s.jsx)(b.Z,{className:"h-4 w-4"})}),(0,s.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>E(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),w.length>0&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)(n.z,{onClick:()=>{console.log("Submitting individual items:",w)},variant:"jiomart",size:"lg",className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),"Submit"]})})]})]})]})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(7437),a=r(2265),l=r(5293),n=r(535),o=r(3448);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",jiomart:"bg-[hsl(var(--button-blue))] text-white hover:bg-[hsl(var(--button-blue)/0.9)] font-semibold shadow-sm",jiomartHeader:"text-white hover:bg-white/10"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:d=!1,...c}=e,u=d?l.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:a,size:n,className:r})),ref:t,...c})});d.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return n},aY:function(){return c},ll:function(){return i}});var s=r(7437),a=r(2265),l=r(3448);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return l}});var s=r(1994),a=r(3335);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[137,842,971,117,744],function(){return e(e.s=290)}),_N_E=e.O()}]);