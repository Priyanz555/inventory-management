(()=>{var e={};e.id=4889,e.ids=[4889],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3810:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>d.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>n}),r(6611),r(1341),r(5866);var t=r(3191),a=r(8716),l=r(7922),d=r.n(l),i=r(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(s,c);let n=["",{children:["cycle-count",{children:["audit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6611)),"/Users/priyadarshan.b/InvMgmt/src/app/cycle-count/audit/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1341)),"/Users/priyadarshan.b/InvMgmt/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/priyadarshan.b/InvMgmt/src/app/cycle-count/audit/page.tsx"],m="/cycle-count/audit/page",x={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/cycle-count/audit/page",pathname:"/cycle-count/audit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},7832:(e,s,r)=>{Promise.resolve().then(r.bind(r,7505))},7505:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(326),a=r(7577),l=r(9752),d=r(1664),i=r(4794);function c(){let[e,s]=(0,a.useState)([]),[r,c]=(0,a.useState)(null),[n,o]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),h=async e=>{x(!0);try{let s=await fetch(`/api/cycle-count/audit/${e}`);if(s.ok){let e=await s.json();c(e),o(!0)}}catch(e){console.error("Error fetching audit details:",e)}finally{x(!1)}};return(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Cycle Count Audit Trail"}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:"Cycle Count History"})}),t.jsx(l.aY,{children:t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[t.jsx("th",{className:"border p-2 text-left",children:"Timestamp"}),t.jsx("th",{className:"border p-2 text-left",children:"User"}),t.jsx("th",{className:"border p-2 text-left",children:"File"}),t.jsx("th",{className:"border p-2 text-left",children:"Variance SKUs"}),t.jsx("th",{className:"border p-2 text-left",children:"Total Adj Qty CS"}),t.jsx("th",{className:"border p-2 text-left",children:"Status"}),t.jsx("th",{className:"border p-2 text-left",children:"Actions"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>(0,t.jsxs)("tr",{children:[t.jsx("td",{className:"border p-2",children:e.timestamp}),t.jsx("td",{className:"border p-2",children:e.user}),t.jsx("td",{className:"border p-2",children:e.fileName}),t.jsx("td",{className:"border p-2",children:e.varianceSKUs}),t.jsx("td",{className:"border p-2",children:e.totalAdjQtyCS}),t.jsx("td",{className:"border p-2",children:t.jsx("span",{className:`px-2 py-1 rounded text-sm ${"Completed"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status})}),t.jsx("td",{className:"border p-2",children:t.jsx(d.z,{onClick:()=>h(e.id),variant:"outline",size:"sm",disabled:m,children:"View Details"})})]},e.id)),0===e.length&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"border p-4 text-center text-gray-500",children:"No cycle count audits found"})})]})]})})})]}),n&&r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Cycle Count Details"}),t.jsx(d.z,{onClick:()=>o(!1),variant:"outline",size:"sm",children:"Close"})]}),t.jsx("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(i._,{children:"Timestamp"}),t.jsx("div",{className:"font-medium",children:r.timestamp})]}),(0,t.jsxs)("div",{children:[t.jsx(i._,{children:"User"}),t.jsx("div",{className:"font-medium",children:r.user})]}),(0,t.jsxs)("div",{children:[t.jsx(i._,{children:"File"}),t.jsx("div",{className:"font-medium",children:r.fileName})]}),(0,t.jsxs)("div",{children:[t.jsx(i._,{children:"Status"}),t.jsx("div",{className:"font-medium",children:r.status})]})]})}),r.details&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Adjustment Details"}),t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[t.jsx("th",{className:"border p-2",children:"SKU"}),t.jsx("th",{className:"border p-2",children:"System Qty CS"}),t.jsx("th",{className:"border p-2",children:"System Qty EA"}),t.jsx("th",{className:"border p-2",children:"Physical Qty CS"}),t.jsx("th",{className:"border p-2",children:"Physical Qty EA"}),t.jsx("th",{className:"border p-2",children:"Variance CS"}),t.jsx("th",{className:"border p-2",children:"Variance EA"}),t.jsx("th",{className:"border p-2",children:"Adjustment Type"})]})}),t.jsx("tbody",{children:r.details.map((e,s)=>(0,t.jsxs)("tr",{className:"Gain"===e.adjustmentType?"bg-green-50":"bg-red-50",children:[t.jsx("td",{className:"border p-2",children:e.sku}),t.jsx("td",{className:"border p-2",children:e.systemQtyCS}),t.jsx("td",{className:"border p-2",children:e.systemQtyEA}),t.jsx("td",{className:"border p-2",children:e.physicalQtyCS}),t.jsx("td",{className:"border p-2",children:e.physicalQtyEA}),t.jsx("td",{className:"border p-2",children:e.varianceCS}),t.jsx("td",{className:"border p-2",children:e.varianceEA}),t.jsx("td",{className:"border p-2",children:t.jsx("span",{className:`px-2 py-1 rounded text-sm ${"Gain"===e.adjustmentType?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.adjustmentType})})]},s))})]})})]})]})})]})}},9752:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>i,SZ:()=>n,Zb:()=>d,aY:()=>o,ll:()=>c});var t=r(326),a=r(7577),l=r(1223);let d=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));d.displayName="Card";let i=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let c=a.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let n=a.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let o=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},4794:(e,s,r)=>{"use strict";r.d(s,{_:()=>d});var t=r(326),a=r(7577),l=r(1223);let d=a.forwardRef(({className:e,...s},r)=>t.jsx("label",{ref:r,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));d.displayName="Label"},6611:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`/Users/priyadarshan.b/InvMgmt/src/app/cycle-count/audit/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[9276,3926,8752],()=>r(3810));module.exports=t})();