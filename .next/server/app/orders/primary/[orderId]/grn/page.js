(()=>{var e={};e.id=978,e.ids=[978],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2771:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>d.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>x,routeModule:()=>p,tree:()=>n}),r(8762),r(1341),r(5866);var a=r(3191),t=r(8716),l=r(7922),d=r.n(l),i=r(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(s,c);let n=["",{children:["orders",{children:["primary",{children:["[orderId]",{children:["grn",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8762)),"/Users/priyadarshan.b/InvMgmt/src/app/orders/primary/[orderId]/grn/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1341)),"/Users/priyadarshan.b/InvMgmt/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/priyadarshan.b/InvMgmt/src/app/orders/primary/[orderId]/grn/page.tsx"],m="/orders/primary/[orderId]/grn/page",o={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/orders/primary/[orderId]/grn/page",pathname:"/orders/primary/[orderId]/grn",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},7520:(e,s,r)=>{Promise.resolve().then(r.bind(r,5186))},6333:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(2881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},361:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(2881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3685:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(2881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},5186:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var a=r(326),t=r(7577),l=r(9752),d=r(1664),i=r(1190),c=r(6333),n=r(361),x=r(2881);let m=(0,x.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var o=r(3685);let p=(0,x.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var h=r(434);function g({params:e}){let[s,r]=(0,t.useState)(null),[x,g]=(0,t.useState)(1),[y,j]=(0,t.useState)([]),[u,b]=(0,t.useState)("good"),[N,f]=(0,t.useState)(null);e.orderId;let v=(e,s,r)=>{let a=[...y];a[e]={...a[e],[s]:r},j(a)};return s?(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(h.default,{href:"/orders/primary",children:(0,a.jsxs)(d.z,{variant:"outline",size:"sm",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create GRN"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Generate goods receipt note for Order ID: ",s.id]})]})]})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Order ID"}),a.jsx("p",{className:"text-gray-600",children:s.id})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Invoice ID"}),a.jsx("p",{className:"text-gray-600",children:s.invoiceId})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Order Date"}),a.jsx("p",{className:"text-gray-600",children:s.orderDate})]})]})})}),a.jsx("div",{className:"flex items-center justify-center mb-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:`flex items-center ${x>=1?"text-blue-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${x>=1?"bg-blue-600 text-white":"bg-gray-200"}`,children:x>1?a.jsx(n.Z,{className:"h-4 w-4"}):"1"}),a.jsx("span",{className:"ml-2 font-medium",children:"Select Items"})]}),a.jsx("div",{className:`w-16 h-0.5 ${x>=2?"bg-blue-600":"bg-gray-300"}`}),(0,a.jsxs)("div",{className:`flex items-center ${x>=2?"text-blue-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${x>=2?"bg-blue-600 text-white":"bg-gray-200"}`,children:x>2?a.jsx(n.Z,{className:"h-4 w-4"}):"2"}),a.jsx("span",{className:"ml-2 font-medium",children:"Review Details"})]}),a.jsx("div",{className:`w-16 h-0.5 ${x>=3?"bg-blue-600":"bg-gray-300"}`}),(0,a.jsxs)("div",{className:`flex items-center ${x>=3?"text-blue-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${x>=3?"bg-blue-600 text-white":"bg-gray-200"}`,children:x>3?a.jsx(n.Z,{className:"h-4 w-4"}):"3"}),a.jsx("span",{className:"ml-2 font-medium",children:"Confirm"})]})]})}),1===x&&a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Details"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[y.length," Items • ",y.reduce((e,s)=>e+s.plannedQty,0)," Qty"]}),a.jsx("div",{className:"space-y-4",children:y.map((e,s)=>a.jsx("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.articleName}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["₹",e.ptr,"/pc"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["₹",(e.ptr*e.plannedQty).toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Outer case (30 pc/case) : ",Math.ceil(e.plannedQty/30)," Case"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",e.plannedQty]})]})]})},s))})]}),a.jsx("div",{className:"flex justify-end space-x-4",children:(0,a.jsxs)(d.z,{onClick:()=>g(2),className:"bg-blue-600 hover:bg-blue-700",children:["Next",a.jsx(m,{className:"h-4 w-4 ml-2"})]})})]})})}),2===x&&a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Condition"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"radio",value:"good",checked:"good"===u,onChange:e=>b(e.target.value),className:"text-blue-600"}),a.jsx("span",{className:"text-gray-900",children:"Received all items in good condition"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"radio",value:"damaged",checked:"damaged"===u,onChange:e=>b(e.target.value),className:"text-blue-600"}),a.jsx("span",{className:"text-gray-900",children:"Some items were damaged or lost"})]})]})]}),"damaged"===u&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Details"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Item ID"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Item Name"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Batch ID"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Exp-date"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"MRP"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"PTR"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Planned Qty"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Damaged Qty"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Lost Qty"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Dsc%"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Margin%"})]})}),a.jsx("tbody",{children:y.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:e.articleId}),a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:e.articleName}),a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:e.batchId}),a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:e.expiryDate}),(0,a.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:["₹",e.mrp]}),(0,a.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:["₹",e.ptr]}),a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:a.jsx(i.I,{type:"number",value:e.plannedQty,onChange:e=>v(s,"plannedQty",parseInt(e.target.value)||0),className:"w-20"})}),a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:a.jsx(i.I,{type:"number",value:e.damagedQty,onChange:e=>v(s,"damagedQty",parseInt(e.target.value)||0),className:"w-20"})}),a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:a.jsx(i.I,{type:"number",value:e.lostQty,onChange:e=>v(s,"lostQty",parseInt(e.target.value)||0),className:"w-20"})}),(0,a.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:[e.discountPercent,"%"]}),(0,a.jsxs)("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:[e.marginPercent,"%"]})]},s))})]})})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lorry Receipt"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Upload lorry receipt document"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(i.I,{type:"file",accept:".pdf,.jpeg,.jpg,.png",onChange:e=>{let s=e.target.files?.[0];s&&f(s)},className:"hidden",id:"lorry-receipt"}),(0,a.jsxs)(d.z,{onClick:()=>document.getElementById("lorry-receipt")?.click(),variant:"outline",className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-4 w-4"}),"Upload"]}),N&&a.jsx("span",{className:"text-sm text-gray-600",children:N.name})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"pdf/jpeg/png under 2 MB"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4",children:[(0,a.jsxs)(d.z,{onClick:()=>g(1),variant:"outline",children:[a.jsx(p,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,a.jsxs)(d.z,{onClick:()=>g(3),className:"bg-blue-600 hover:bg-blue-700",children:["Next",a.jsx(m,{className:"h-4 w-4 ml-2"})]})]})]})})}),3===x&&a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Review Details"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Order ID:"})," ",s.id]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Invoice ID:"})," ",s.invoiceId]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Total Items:"})," ",y.length]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Total Quantity:"})," ",y.reduce((e,s)=>e+s.plannedQty,0)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Item Condition:"})," ","good"===u?"Good":"Damaged/Lost"]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Lorry Receipt:"})," ",N?"Uploaded":"Not uploaded"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4",children:[(0,a.jsxs)(d.z,{onClick:()=>g(2),variant:"outline",children:[a.jsx(p,{className:"h-4 w-4 mr-2"}),"Previous"]}),a.jsx(d.z,{onClick:()=>{s&&console.log("GRN Created for order:",s.id),window.location.href="/orders/primary"},className:"bg-purple-600 hover:bg-purple-700",children:"Create GRN"})]})]})})})]}):a.jsx("div",{children:"Loading..."})}},9752:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>i,SZ:()=>n,Zb:()=>d,aY:()=>x,ll:()=>c});var a=r(326),t=r(7577),l=r(1223);let d=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));d.displayName="Card";let i=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let c=t.forwardRef(({className:e,...s},r)=>a.jsx("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let n=t.forwardRef(({className:e,...s},r)=>a.jsx("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let x=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...s}));x.displayName="CardContent",t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},1190:(e,s,r)=>{"use strict";r.d(s,{I:()=>d});var a=r(326),t=r(7577),l=r(1223);let d=t.forwardRef(({className:e,type:s,...r},t)=>a.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));d.displayName="Input"},8762:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/Users/priyadarshan.b/InvMgmt/src/app/orders/primary/[orderId]/grn/page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[9276,3926,434,8752],()=>r(2771));module.exports=a})();