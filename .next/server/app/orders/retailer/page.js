(()=>{var e={};e.id=6854,e.ids=[6854],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>n}),t(6910),t(1341),t(5866);var a=t(3191),r=t(8716),l=t(7922),d=t.n(l),c=t(5231),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);t.d(s,i);let n=["",{children:["orders",{children:["retailer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6910)),"/Users/priyadarshan.b/InvMgmt/src/app/orders/retailer/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1341)),"/Users/priyadarshan.b/InvMgmt/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/priyadarshan.b/InvMgmt/src/app/orders/retailer/page.tsx"],x="/orders/retailer/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/orders/retailer/page",pathname:"/orders/retailer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},5483:(e,s,t)=>{Promise.resolve().then(t.bind(t,7138))},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},1540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},717:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},4893:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},3855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7138:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(326),r=t(7577),l=t(9752),d=t(1664),c=t(6333),i=t(1540),n=t(3855),o=t(361),x=t(2881);let m=(0,x.Z)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),p=(0,x.Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var u=t(4893),h=t(9669),g=t(8998),f=t(8307),j=t(7358),y=t(2714),N=t(717),b=t(6283),v=t(434);function k(){let[e,s]=(0,r.useState)("all"),[t,x]=(0,r.useState)(""),[k,w]=(0,r.useState)(""),[S,R]=(0,r.useState)(""),[O,C]=(0,r.useState)("All Status"),[I,_]=(0,r.useState)([]),[Z,z]=(0,r.useState)(!1),[A,L]=(0,r.useState)(!1),[P,E]=(0,r.useState)(null),[M,D]=(0,r.useState)(!1),[T,U]=(0,r.useState)(""),[V,$]=(0,r.useState)(""),F=[{id:"RO-2024-001",orderDate:"2024-01-15",fosId:"FOS001",fosName:"John Smith",retailerId:"RET001",retailerName:"ABC Store",status:"accepted",processingStatus:"confirmed_not_dispatched",orderValue:"₹12,500",orderQuantity:25,selected:!1,processingLogs:[{id:"1",orderId:"RO-2024-001",action:"Order Accepted",status:"accepted",timestamp:"2024-01-15 10:30:00",userId:"RETAILER001"},{id:"2",orderId:"RO-2024-001",action:"Order Confirmed",status:"confirmed",timestamp:"2024-01-15 14:20:00",userId:"RETAILER001"}]},{id:"RO-2024-002",orderDate:"2024-01-16",fosId:"FOS002",fosName:"Sarah Johnson",retailerId:"RET002",retailerName:"XYZ Mart",status:"pending",processingStatus:"pending",orderValue:"₹8,900",orderQuantity:18,selected:!1,processingLogs:[]},{id:"RO-2024-003",orderDate:"2024-01-17",fosId:"FOS003",fosName:"Mike Wilson",retailerId:"RET003",retailerName:"Premium Shop",status:"rejected",processingStatus:"rejected",unprocessedReason:"Stock Out",orderValue:"₹15,200",orderQuantity:32,selected:!1,processingLogs:[{id:"3",orderId:"RO-2024-003",action:"Order Rejected",status:"rejected",reason:"Stock Out",timestamp:"2024-01-17 09:15:00",userId:"RETAILER003"}]},{id:"RO-2024-004",orderDate:"2024-01-18",fosId:"FOS001",fosName:"John Smith",retailerId:"RET004",retailerName:"City Store",status:"accepted",processingStatus:"confirmed_not_dispatched",orderValue:"₹9,800",orderQuantity:20,selected:!1,processingLogs:[{id:"4",orderId:"RO-2024-004",action:"Order Accepted",status:"accepted",timestamp:"2024-01-18 11:45:00",userId:"RETAILER004"}]},{id:"RO-2024-007",orderDate:"2024-01-21",fosId:"FOS003",fosName:"Mike Wilson",retailerId:"RET007",retailerName:"Express Mart",status:"accepted",processingStatus:"auto_processed",orderValue:"₹14,200",orderQuantity:35,selected:!1,processingLogs:[{id:"5",orderId:"RO-2024-007",action:"Order Accepted",status:"accepted",timestamp:"2024-01-21 09:30:00",userId:"RETAILER007"},{id:"6",orderId:"RO-2024-007",action:"Order Confirmed",status:"confirmed",timestamp:"2024-01-21 10:15:00",userId:"RETAILER007"},{id:"7",orderId:"RO-2024-007",action:"Auto Processed",status:"auto_processed",timestamp:"2024-01-21 14:20:00",userId:"SYSTEM"}]},{id:"RO-2024-008",orderDate:"2024-01-22",fosId:"FOS002",fosName:"Sarah Johnson",retailerId:"RET008",retailerName:"Quick Shop",status:"accepted",processingStatus:"auto_processed",orderValue:"₹7,600",orderQuantity:12,selected:!1,processingLogs:[{id:"8",orderId:"RO-2024-008",action:"Order Accepted",status:"accepted",timestamp:"2024-01-22 08:45:00",userId:"RETAILER008"},{id:"9",orderId:"RO-2024-008",action:"Order Confirmed",status:"confirmed",timestamp:"2024-01-22 09:30:00",userId:"RETAILER008"},{id:"10",orderId:"RO-2024-008",action:"Auto Processed",status:"auto_processed",timestamp:"2024-01-22 11:15:00",userId:"SYSTEM"}]},{id:"RO-2024-005",orderDate:"2024-01-19",fosId:"FOS004",fosName:"Lisa Brown",retailerId:"RET005",retailerName:"Corner Shop",status:"offline",processingStatus:"offline",orderValue:"₹6,500",orderQuantity:15,selected:!1,processingLogs:[]},{id:"RO-2024-006",orderDate:"2024-01-20",fosId:"FOS002",fosName:"Sarah Johnson",retailerId:"RET006",retailerName:"Super Market",status:"pending",processingStatus:"pending",orderValue:"₹11,300",orderQuantity:28,selected:!1,processingLogs:[]}],q=F.filter(s=>{let a=!1;a="all"===e||("accepted"===e?"accepted"===s.status:"accepted_processed"===e?"accepted"===s.status&&"auto_processed"===s.processingStatus:"accepted_unprocessed"===e?"accepted"===s.status&&"confirmed_not_dispatched"===s.processingStatus:s.status===e);let r=""===t||s.id.toLowerCase().includes(t.toLowerCase())||s.retailerName.toLowerCase().includes(t.toLowerCase())||s.fosName.toLowerCase().includes(t.toLowerCase())||s.fosId.toLowerCase().includes(t.toLowerCase()),l=""===k||s.orderDate>=k,d=""===S||s.orderDate<=S,c="All Status"===O||s.status===O.toLowerCase();return a&&r&&l&&d&&c}),Q=[{key:"all",label:"All Orders",count:F.length},{key:"pending",label:"Pending Orders",count:F.filter(e=>"pending"===e.status).length},{key:"accepted",label:"Accepted Orders",count:F.filter(e=>"accepted"===e.status).length},{key:"accepted_processed",label:"Processed Orders",count:F.filter(e=>"accepted"===e.status&&"auto_processed"===e.processingStatus).length},{key:"accepted_unprocessed",label:"Unprocessed Orders",count:F.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).length},{key:"rejected",label:"Rejected Orders",count:F.filter(e=>"rejected"===e.status).length},{key:"offline",label:"Offline Orders",count:F.filter(e=>"offline"===e.status).length}],Y=e=>{let s="px-2 py-1 rounded-full text-xs font-medium";switch(e){case"accepted":return`${s} bg-green-100 text-green-800`;case"pending":return`${s} bg-yellow-100 text-yellow-800`;case"rejected":return`${s} bg-red-100 text-red-800`;case"offline":return`${s} bg-blue-100 text-blue-800`;default:return`${s} bg-gray-100 text-gray-800`}},B=e=>{let s="px-2 py-1 rounded-full text-xs font-medium";switch(e){case"confirmed_not_dispatched":return`${s} bg-orange-100 text-orange-800`;case"auto_processed":return`${s} bg-green-100 text-green-800`;case"stock_out":return`${s} bg-red-100 text-red-800`;case"partial_dispatch":return`${s} bg-yellow-100 text-yellow-800`;default:return`${s} bg-gray-100 text-gray-800`}},H=e=>{_(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},J=()=>{_(q.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).map(e=>e.id))},G=()=>{_([])},W=(e,s)=>{console.log("Closing order:",e,"with reason:",s),D(!1),U("")},X=e=>{let s=F.find(s=>s.id===e);if(!s)return;let t=s.processingLogs.map(e=>({OrderID:e.orderId,Action:e.action,Status:e.status,Reason:e.reason||"",Timestamp:e.timestamp,UserID:e.userId})),a=new Blob([[Object.keys(t[0]).join(","),...t.map(e=>Object.values(e).join(","))].join("\n")],{type:"text/csv"}),r=window.URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=`processing_log_${e}.csv`,l.click(),window.URL.revokeObjectURL(r)},K=q.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).length,ee=F.filter(e=>"accepted"===e.status&&"auto_processed"===e.processingStatus).length,es=F.filter(e=>"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus).length;return(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Retailer Orders"}),a.jsx("p",{className:"text-gray-600",children:"Manage retail and field operations orders"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsx(v.default,{href:"/orders",children:(0,a.jsxs)(d.z,{variant:"outline",className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"h-4 w-4"}),"Back to Orders"]})})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.z,{variant:"outline",className:"flex items-center gap-2",children:[a.jsx(i.Z,{className:"h-4 w-4"}),"Bulk Download"]}),a.jsx(v.default,{href:"/orders/offline/new",children:(0,a.jsxs)(d.z,{variant:"jiomart",className:"flex items-center gap-2",children:[a.jsx(n.Z,{className:"h-4 w-4"}),"Create Offline Orders"]})})]})]})]}),K>0&&(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-5 w-5 text-green-600"}),"Unprocessed Orders Actions"]})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[K," unprocessed orders ready for action"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.z,{onClick:J,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(m,{className:"h-4 w-4"}),"Select All"]}),(0,a.jsxs)(d.z,{onClick:G,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(p,{className:"h-4 w-4"}),"Clear Selection"]}),(0,a.jsxs)(d.z,{onClick:()=>z(!0),disabled:0===I.length,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Auto Process (",I.length,")"]}),(0,a.jsxs)(d.z,{onClick:()=>D(!0),disabled:0===I.length,variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:[a.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Close Orders (",I.length,")"]})]})]})})]}),(ee>0||es>0)&&a.jsx(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(o.Z,{className:"h-4 w-4 text-blue-600"}),a.jsx("h3",{className:"font-medium text-gray-900",children:"Accepted Orders Summary"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>s("accepted_processed"),className:"bg-green-50 p-3 rounded-lg hover:bg-green-100 transition-colors cursor-pointer border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Processed"})]}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:ee})]}),a.jsx("p",{className:"text-xs text-green-600 text-left",children:"Successfully processed and dispatched"})]}),(0,a.jsxs)("button",{onClick:()=>s("accepted_unprocessed"),className:"bg-orange-50 p-3 rounded-lg hover:bg-orange-100 transition-colors cursor-pointer border border-orange-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"h-4 w-4 text-orange-600"}),a.jsx("span",{className:"font-medium text-orange-800 text-sm",children:"Unprocessed"})]}),a.jsx("span",{className:"text-xl font-bold text-orange-600",children:es})]}),a.jsx("p",{className:"text-xs text-orange-600 text-left",children:"Confirmed but not yet dispatched"})]})]})]})}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg overflow-x-auto",children:Q.map(t=>(0,a.jsxs)("button",{onClick:()=>s(t.key),className:`py-2 px-4 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${e===t.key?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[t.label," (",t.count,")"]},t.key))}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(f.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by Order ID, Retailer Name, FOS Name, FOS ID...",value:t,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("input",{type:"date",value:k,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-500",children:"to"}),a.jsx("input",{type:"date",value:S,onChange:e=>R(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("select",{value:O,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{children:"All Status"}),a.jsx("option",{children:"Accepted"}),a.jsx("option",{children:"Pending"}),a.jsx("option",{children:"Rejected"}),a.jsx("option",{children:"Offline"})]})]})]}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b bg-gray-50",children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:K>0&&a.jsx("input",{type:"checkbox",checked:I.length===K,onChange:e=>e.target.checked?J():G(),className:"rounded border-gray-300"})}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Sr. #"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order ID"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"FOS ID and Name"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Retailer ID"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Retailer Name"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Processing Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order Value"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order Quantity"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{children:q.map((e,s)=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:"accepted"===e.status&&"confirmed_not_dispatched"===e.processingStatus&&a.jsx("input",{type:"checkbox",checked:I.includes(e.id),onChange:()=>H(e.id),className:"rounded border-gray-300"})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:s+1}),a.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.id}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:e.orderDate}),(0,a.jsxs)("td",{className:"py-3 px-4 text-gray-900",children:[e.fosId," ",e.fosName]}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:e.retailerId}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:e.retailerName}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:Y(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:B(e.processingStatus),children:e.processingStatus.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})}),a.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.orderValue}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:e.orderQuantity}),a.jsx("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:a.jsx(y.Z,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{E(e),L(!0)},className:"text-gray-600 hover:text-gray-900",children:a.jsx(N.Z,{className:"h-4 w-4"})}),a.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:a.jsx(b.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing 1 to ",q.length," of ",q.length," results"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(d.z,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),a.jsx(d.z,{variant:"outline",size:"sm",className:"bg-blue-600 text-white",children:"1"}),a.jsx(d.z,{variant:"outline",size:"sm",children:"2"}),a.jsx(d.z,{variant:"outline",size:"sm",children:"3"}),a.jsx(d.z,{variant:"outline",size:"sm",children:"Next"})]})]}),Z&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Auto Process Orders"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to auto-process ",I.length," selected orders?"]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[a.jsx(d.z,{onClick:()=>z(!1),variant:"outline",children:"Cancel"}),a.jsx(d.z,{onClick:()=>{console.log("Auto processing orders:",I),_([]),z(!1)},className:"bg-green-600 hover:bg-green-700",children:"Auto Process"})]})]})}),M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Close Orders"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["You are about to close ",I.length," selected orders. Please select a reason:"]}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"closeReason",value:"Stock Out",checked:"Stock Out"===T,onChange:e=>U(e.target.value),className:"text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Stock Out"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"closeReason",value:"Partial Dispatch",checked:"Partial Dispatch"===T,onChange:e=>U(e.target.value),className:"text-yellow-600"}),a.jsx("span",{className:"text-yellow-600 font-medium",children:"Partial Dispatch"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"closeReason",value:"Cancelled - Retailer Refused",checked:"Cancelled - Retailer Refused"===T,onChange:e=>U(e.target.value),className:"text-gray-600"}),a.jsx("span",{className:"text-gray-600 font-medium",children:"Cancelled - Retailer Refused"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[a.jsx(d.z,{onClick:()=>{D(!1),U("")},variant:"outline",children:"Cancel"}),a.jsx(d.z,{onClick:()=>{console.log("Closing orders:",I,"with reason:",T),_([]),D(!1),U("")},disabled:!T,className:"bg-red-600 hover:bg-red-700",children:"Close Orders"})]})]})}),A&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["Processing Log - ",P.id]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.z,{onClick:()=>X(P.id),variant:"outline",size:"sm",children:[a.jsx(i.Z,{className:"h-4 w-4 mr-2"}),"Download Report"]}),a.jsx(d.z,{onClick:()=>L(!1),variant:"outline",size:"sm",children:"Close"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Order ID:"})," ",P.id]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Retailer:"})," ",P.retailerName]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Current Status:"}),a.jsx("span",{className:Y(P.status),children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Processing Status:"}),a.jsx("span",{className:B(P.processingStatus),children:P.processingStatus.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Processing History"}),a.jsx("div",{className:"space-y-2",children:P.processingLogs.length>0?P.processingLogs.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.action}),a.jsx("div",{className:"text-sm text-gray-600",children:e.reason&&`Reason: ${e.reason}`})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-600",children:e.timestamp}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["by ",e.userId]})]})]},e.id)):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No processing logs available"})})]}),"accepted"===P.status&&"confirmed_not_dispatched"===P.processingStatus&&(0,a.jsxs)("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Close Order"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"closeReason",value:"Stock Out",checked:"Stock Out"===V,onChange:e=>$(e.target.value),className:"text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Stock Out"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"closeReason",value:"Partial Dispatch",checked:"Partial Dispatch"===V,onChange:e=>$(e.target.value),className:"text-yellow-600"}),a.jsx("span",{className:"text-yellow-600 font-medium",children:"Partial Dispatch"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"closeReason",value:"Cancelled - Retailer Refused",checked:"Cancelled - Retailer Refused"===V,onChange:e=>$(e.target.value),className:"text-gray-600"}),a.jsx("span",{className:"text-gray-600 font-medium",children:"Cancelled - Retailer Refused"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(d.z,{onClick:()=>{L(!1),$("")},variant:"outline",size:"sm",children:"Cancel"}),a.jsx(d.z,{onClick:()=>{V&&(W(P.id,V),$(""))},disabled:!V,size:"sm",className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400",children:"Submit Status"})]})]})]})]})]})})]})}},9752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>c,SZ:()=>n,Zb:()=>d,aY:()=>o,ll:()=>i});var a=t(326),r=t(7577),l=t(1223);let d=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));d.displayName="Card";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));c.displayName="CardHeader";let i=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle";let n=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},6910:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/Users/priyadarshan.b/InvMgmt/src/app/orders/retailer/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,3926,434,8752],()=>t(9982));module.exports=a})();